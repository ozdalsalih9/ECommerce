@model E_Commerse.Core.Entities.Product

<div class="col-lg-3 col-md-4 col-sm-6 mb-4">
    <div class="product-card card border-0 shadow-sm h-100 overflow-hidden position-relative" style="border-radius: 8px;">
        <!-- "Yeni" etiketi -->
        @if (Model.CreateTime > DateTime.Now.AddDays(-7))
        {
            <span class="product-card__badge position-absolute top-2 start-2 bg-white text-dark px-2 py-1 small"
                  style="border: 1px solid #eee; border-radius: 4px; font-size: 11px; font-weight: 500;">
                YENİ
            </span>
        }

        <!-- Favori ikonu -->
        <button class="product-card__favorite btn position-absolute top-2 end-2 bg-white p-1"
                title="Favorilere Ekle"
                style="border: 1px solid #eee; border-radius: 4px; z-index: 10;"
                data-product-id="@Model.Id">
            <i class="far fa-heart" style="font-size: 14px;"></i>
        </button>

        <!-- Ürün görseli -->
        <a asp-action="Details" asp-controller="Product" asp-route-id="@Model.Id"
           class="product-card__image-link d-block position-relative overflow-hidden bg-light"
           style="padding-top: 130%;">
            <img src="/img/Products/MainImage/@Model.Image"
                 alt="@Model.Name"
                 class="product-card__image position-absolute top-0 left-0 w-100 h-100 object-fit-contain p-3"
                 loading="lazy">
        </a>

        <div class="product-card__body card-body d-flex flex-column px-2 pb-3 pt-2">
            <!-- Ürün adı -->
            <a asp-action="Details" asp-controller="Product" asp-route-id="@Model.Id"
               class="product-card__title-link text-decoration-none text-dark">
                <div class="product-card__title mb-1" style="font-size: 13px; font-weight: 500; line-height: 1.4;">
                    @Model.Name
                </div>
            </a>

            <!-- Ürün açıklaması -->
            @if (!string.IsNullOrEmpty(Model.Description))
            {
                <div class="product-card__description mb-2">
                    @Model.Description
                </div>
            }

            <!-- Bedenler -->
            @if (Model.ProductSizes != null && Model.ProductSizes.Any())
            {
                <div class="product-card__sizes mb-2 d-flex justify-content-center flex-wrap gap-1">
                    @foreach (var size in Model.ProductSizes.Where(s => s.Stock > 0).Take(5))
                    {
                        <span class="product-card__size-badge small px-1"
                              style="font-size: 10px; border: 1px solid #ddd; border-radius: 2px; background: #f8f8f8;">
                            @size.Size.Name
                        </span>
                    }
                </div>
            }

            <!-- İncele Butonu -->
            <a asp-action="Details" asp-controller="Product" asp-route-id="@Model.Id"
               class="product-card__detail-btn btn btn-sm btn-outline-primary w-100">
                İncele
            </a>
        </div>
    </div>
</div>
